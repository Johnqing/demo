!function(e,t){if("object"==typeof exports&&exports)t(module.exports);else{var n={};t(n),"function"==typeof define&&define.amd?define(n):e.NT=e.NTpl=n}}(this,function(e,t){function n(e){var t="[template]:\n"+e.id+"\n\n[name]:\n"+e.name;e.message&&(t+="\n\n[message]:\n"+e.message),e.line&&(t+="\n\n[line]:\n"+e.line),e.temp&&(t+="\n\n[temp]:\n"+e.temp),c.console&&console.error(t)}function r(t){var n=u[t];if(n)return n;if(!c.document)return e.compile(t);var r=document.getElementById(t);return r?(e.compile(t,r.value||r.innerHTML),u[t]):e.compile(t)}function a(e){e=e.replace(/\/\*.*?\*\/|'[^']*'|"[^"]*"|\.[\$\w]+/g,"");var t=e.split(/[^\$\w\d]+/);m.call(t,function(e){!e||g[e]||/^\d/.test(e)||s[e]||(p+=e+'= $getValue("'+e+'"),',s[e]=1)})}function i(e){return e=e.replace(/('|"|\\)/g,"\\$1").replace(/\r/g,"\\r").replace(/\n/g,"\\n"),e=d[1]+'"'+e+'"'+d[2],e+"\n"}function o(e){return/^=/.test(e)&&(e=d[1]+e.substring(1).replace(/[\s;]*$/,"")+d[2]),a(e),e}function l(t){var n=t.split(e.openTag),r="";m.call(n,function(t){var n=t.split(e.closeTag),a=n[0],l=n[1];1==n.length?r+=i(a):(r+=o(a),r+=l?i(l):"")});var a="function $getValue(key){return $data.hasOwnProperty(key) ? $data[key] : this[$data];};"+p+d[0]+r+"return "+d[3];try{return new Function("$data",a)}catch(l){}}var c=this;e.openTag="<%",e.closeTag="%>";var s={},u={},p="var ",f="".trim,d=f?['ret = "";',"ret +=",";","ret;"]:["ret = [];","ret.push(",");",'ret.join("");'],m=Array.prototype.forEach||function(e,t){for(var n=this.length>>>0,r=0;n>r;r++)r in this&&e.call(t,this[r],r,this)},g={};m.call("break,case,catch,continue,debugger,default,delete,do,else,false,finally,for,function,if,in,instanceof,new,null,return,switch,this,throw,true,try,typeof,var,void,while,with,abstract,boolean,byte,char,class,const,double,enum,export,extends,final,float,goto,implements,import,int,interface,long,native,package,private,protected,public,short,static,super,synchronized,throws,transient,volatile,arguments,let,yield".split(","),function(e){g[e]=!0}),e.compile=function(e,t){"string"!=typeof t&&(t=e,e=null);try{var r=l(t)}catch(a){return a.id=a.id||t,a.name="Syntax Error",n(a)}return e&&(u[e]=r),r},e.tpl=function(e,a){var i=r(e);return i===t?n({id:e,name:"Rend Error",message:"Not get template"}):a?i(a):i}});